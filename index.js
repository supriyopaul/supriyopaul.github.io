const careerData = {
  "$schema": "./schema.json",
  "title": "Supriyo Paul - Professional Journey",
  "personalDetails": {
    "fullName": "Supriyo Paul",
    "currentTitle": "Senior Software Engineer",
    "brandingStatements": [
        "Software Engineer specializing in Python development, DevOps, and Automation Engineering âš™ï¸",
        "Currently exploring the realm of knowledge graphs and LLM frameworks ğŸ§ ",
        "Aspiring system architect ğŸ—ï¸",
        "Passionate advocate for clean, maintainable code âœ¨",
        "Tinkering with applibot.io my latest hobby project! ğŸ¤–",
        "Hobbies include Badminton, Coooking, sticker making, watching Anime, and Docuseries ğŸ¬",
        "Favorite authors: Yuval Noah Harari and Paulo Coelho âœï¸"
    ],
    "contact": {
      "email": "paul.supriyo.paul@gmail.com",
      "phone": "+91 8340265344",
      "location": "Whitefield, Bengaluru",
      "linkedin": "https://www.linkedin.com/in/supriyopaul95",
      "github": "https://github.com/supriyopaul",
      "website": "https://supriyopaul.github.io/"
    },
    "downloadLink": "https://github.com/supriyopaul/supriyopaul.github.io/blob/master/SupriyoPaul.pdf"
  },
  "timeline": [
    { "id": "exp-hm-2024", "type": "experience", "heading": "Software Engineer II", "organization": { "name": "H&M" }, "role": "Software Engineer II", "startDate": "2024-03-01", "endDate": null, "narrative": "Using `applibot`, I secured my current role at H&M. I work on the central Hub, a platform that acts as a **configurable, low-code workflow** for handling data integrations between our \"Centric\" PLM system and **over 10+ downstream systems**. My responsibilities include owning multiple business objects, overseeing their integrations, and maintaining our core modules and ETL pipelines on **Google Cloud Platform (GCP)**, using services like **Cloud Run, GKE, and SpannerDB**. I am deeply involved in the entire SDLC, from solution design to production support. Outside of my technical responsibilities, I'm an active part of the company culture and a keen **badminton** player, having won several internal tournaments.", "resumePoints": [ "Developing an integration platform to handle complex business objects to and from PLM software APIs and other in-house applications, making them available in a standardized format for over 10+ downstream systems.", "This involves creating a configurable, no-code workflow to streamline and automate the process." ], "skillsUsed": [ {"category": "DEVOPS & TOOLS", "skills": ["Google Cloud Platform (GCP)", "GKE"]}, {"category": "DATABASES", "skills": ["SpannerDB"]}, {"category": "PROGRAMMING LANGUAGES", "skills": ["Python"]}, {"category": "TECHNOLOGIES & CONCEPTS", "skills": ["PLM systems", "Enterprise Integration Patterns", "End-to-End SDLC Ownership"]} ], "personalInterests": ["Badminton"] },
    { "id": "project-applibot-2023", "type": "project", "heading": "applibot.io", "startDate": "2023-01-01", "endDate": "2024-01-01", "narrative": "To continuously sharpen my foundational skills, I dedicated time to competitive programming. To prepare, I took a dedicated course on **Data Structures & Algorithms** and also completed a comprehensive **[System Design certification](https://www.udemy.com/certificate/UC-a6688b24-e5c2-48e2-9c10-231f972eae68/)**. This preparation culminated in a **[50-day challenge on LeetCode](https://drive.google.com/file/d/1zZOSrQ-3x5oreK_nLA0wplgx-I7muvmc/view?usp=sharing)**, where I earned a badge awarded to the **top 6.9% of global participants**.\n\nFueled by my experience across diverse teams and my ambition as an **aspiring system architect**, I sought a role with greater end-to-end ownership. To aid my job search, I built **`applibot.io`**, a **RAG application** to automate job applications. The tech stack included **LanceDB**, **PostgreSQL**, **FastAPI**, and I leveraged **LangChain** alongside OpenAI models as the primary LLM framework.", "skillsUsed": [ {"category": "TECHNOLOGIES & CONCEPTS", "skills": ["RAG Architecture", "LLMs", "LangChain", "Full-Stack Development", "Product Ideation", "FastAPI"]}, {"category": "DATABASES", "skills": ["Vector Databases"]} ], "certifications": [ { "name": "Data Structures & Algorithms", "issuer": "Udemy", "certificateURL": "https://www.udemy.com/certificate/UC-e7d015c6-9477-45e0-9e0c-8d1863d038f6/"}, { "name": "System Design", "issuer": "Udemy", "certificateURL": "https://www.udemy.com/certificate/UC-a6688b24-e5c2-48e2-9c10-231f972eae68/" }, { "name": "Top 6.9% Badge 2022", "issuer": "LeetCode", "certificateURL": "https://drive.google.com/file/d/1zZOSrQ-3x5oreK_nLA0wplgx-I7muvmc/view?usp=sharing" } ], "personalInterests": ["Anime", "Cooking"], "resumePoints": [ "Built a RAG application to automate job applications, leveraging LanceDB, PostgreSQL, and FastAPI.", "Utilized LangChain and OpenAI models as the primary LLM framework." ] },
    { "id": "exp-jio-2021", "type": "experience", "heading": "Software Engineer II", "organization": { "name": "Jio Platforms Private Limited" }, "role": "Software Engineer II", "startDate": "2021-09-01", "endDate": "2024-03-01", "narrative": "I transitioned to the AI-Center of Excellence (AI-COE) team at Jio. The team's vision was to build a unified **ML and MLOps platform** to standardize pipelines for data ingestion, model training, and inference. To ground myself in the team's domain upon joining, I completed the **[AI for Everyone](https://www.coursera.org/account/accomplishments/certificate/JMQWSQBKDSZC)** course.\n\nMy primary contribution was engineering a comprehensive **Knowledge Graph platform** built on **ArangoDB**, using **Redis** for caching to enhance query performance. The platform's microservices architecture was built on **gRPC and Protocol Buffers**, for which I earned a specialized **[certification](https://www.udemy.com/certificate/UC-1dd3f3c2-d8ad-46b5-9a09-801f26cf0df6/)**. As the team grew, my role evolved to include mentoring and training new members. Beyond leadership, I also **spearheaded the performance monitoring, scaling, and refinement of our Knowledge Graph services**, ensuring high reliability and efficiency. The entire platform was deployed on **Kubernetes** using CI/CD pipelines I built on **Azure DevOps**.", "resumePoints": [ "Engineered a comprehensive Knowledge-graph platform, encompassing micro-services like Schema, Data, and Search, to facilitate the semantic storage and retrieval of domain knowledge, enhancing data accessibility and interoperability.", "Spearheaded the performance monitoring, scaling, and refinement of Knowledge Graph services, ensuring optimal scalability for Big Data ingestion and retrieval, and enhancing service reliability and efficiency.", "Provided mentorship on best practices and maintainability within the AICOE's AI platform, fostering a culture of knowledge sharing and continuous improvement within the team." ], "skillsUsed": [ {"category": "TECHNOLOGIES & CONCEPTS", "skills": ["System Design & Architecture", "gRPC", "Knowledge modelling"]}, {"category": "DATABASES", "skills": ["ArangoDB", "Redis"]}, {"category": "DEVOPS & TOOLS", "skills": ["Kubernetes", "Azure DevOps", "MLOps"]}, {"category": "SOFT SKILLS", "skills": ["Technical Leadership & Mentorship"]} ], "certifications": [ { "name": "AI for Everyone", "issuer": "Coursera", "certificateURL": "https://www.coursera.org/account/accomplishments/certificate/JMQWSQBKDSZC" }, { "name": "Protocol Buffers", "issuer": "Udemy", "certificateURL": "https://www.udemy.com/certificate/UC-1dd3f3c2-d8ad-46b5-9a09-801f26cf0df6/" } ] },
    { "id": "exp-ajio-2019", "type": "experience", "heading": "DevOps Engineer", "organization": { "name": "Ajio" }, "role": "DevOps Engineer", "startDate": "2019-09-01", "endDate": "2021-09-01", "narrative": "I moved to Ajio, where I **founded and led the Tools & Automation team**. My mission was to implement strategic automation solutions that would streamline workflows and eliminate redundant tasks across the organization. This was a critical period, as Ajio was undergoing a massive migration to a microservices architecture.\n\nBefore building the large-scale ELK pipeline, my initial focus was on operational stability, where I implemented **Prometheus** for monitoring and alerting on ad-hoc internal tasks. My team's flagship project became a **centralized visibility platform** built on **ELK and Kafka clusters**, designed to pinpoint performance bottlenecks in real-time. We scaled this platform to support over **16 microservices**, processing over **7 billion log records daily**. I was responsible for the architecture, scalability, and optimization of these clusters, as well as leading the infrastructure benchmarking for migration to Jio's in-house cloud, \"JAWS\". All deployments and configuration changes were managed using **Ansible**.", "resumePoints": [ "Engineered and deployed multiple robust clusters designed for extensive log aggregation, capable of processing over 7 billion records daily, alongside conducting comprehensive load testing for the in-house cloud infrastructure platform: JAWS.", "Oversaw and optimized the scalability of ELK and Kafka clusters to accommodate the diverse operational needs across various Jio business units, ensuring seamless data flow and reduced system latency.", "Founded and led the Tools & Automation team at Ajio, implementing strategic automation solutions to streamline workflows and eliminate redundant tasks across multiple departments, enhancing overall operational efficiency." ], "skillsUsed": [ {"category": "DEVOPS & TOOLS", "skills": ["ELK Stack Administration", "Apache Kafka Management", "Prometheus", "Ansible", "Grafana", "Kibana", "Dashboarding"]}, {"category": "TECHNOLOGIES & CONCEPTS", "skills": ["Large-Scale Data Architecture", "System Scalability & Performance Tuning", "Microservices Monitoring"]}, {"category": "SOFT SKILLS", "skills": ["Team Leadership"]} ], "personalInterests": ["Book reading", "Stock Trading"] },
    { "id": "exp-deepcompute-2017", "type": "experience", "heading": "Associate Software Engineer", "organization": { "name": "Deepcompute LLC" }, "role": "Associate Software Engineer", "startDate": "2017-08-01", "endDate": "2019-09-01", "narrative": "My professional career began at **Deepcompute**, a dynamic startup that served as the primary technology backend for nference. Nference's platform was designed to accelerate **drug discovery and development by analyzing and organizing vast datasets** scraped from medical literature, Wikipedia, FDA databases, and clinical trials. For its clients, including major pharmaceutical corporations like Johnson & Johnson, Pfizer, and Merck, the platform produced powerful insights through tools like **gene-drug relationship heatmaps and trend analysis charts**.\n\nIn this role, I transitioned from Java to **Python** and was tasked with building and supporting critical internal tools. I actively **collaborated with cross-functional teams to develop and enhance several open-source libraries** and modules like `logagg`, `basescript`, and `deeputil`. My primary responsibilities revolved around the data pipeline, which involved ingesting large volumes of JSON data and administering the supporting infrastructure, including **MongoDB**, **InfluxDB**, and **NSQ**.\n\nBeyond tool development, I played a pivotal role in shaping our engineering practices by facilitating deployments using **Docker and Travis CI**. This role solidified my belief in robust engineering; I became a **passionate advocate for clean, maintainable code**, especially after implementing CI/CD checks and using tools like `doctest` to enforce quality and documentation simultaneously. After my first year, I also briefly ventured into creative design, making and selling stickers.", "resumePoints": [ "Collaborated with cross-functional teams to develop and enhance open-source libraries and modules such as logagg, basescript, deeputil, contributing to the creation of versatile and reusable software components.", "Played a pivotal role in application development and facilitated teams in managing deployments and logs, establishing and enforcing stringent benchmarks for code quality to ensure the delivery of robust and efficient software solutions." ], "skillsUsed": [ {"category": "PROGRAMMING LANGUAGES", "skills": ["Python", "Bash Scripting"]}, {"category": "TECHNOLOGIES & CONCEPTS", "skills": ["Data Pipelines", "OOPS"]}, {"category": "DEVOPS & TOOLS", "skills": ["NSQ", "Docker", "CI/CD Pipeline Management", "Git Workflows", "Linux System Administration", "Travis CI"]}, {"category": "DATABASES", "skills": ["MongoDB", "InfluxDB"]}, {"category": "SOFT SKILLS", "skills": ["Open-Source Contribution"]} ], "personalInterests": ["Making stickers"] },
    { "id": "edu-mit-2013", "type": "education", "heading": "Bachelor of Technology, Computer Science", "organization": { "name": "Mallabhum Institute of Technology"}, "role": "Undergraduate Student", "startDate": "2013-08-01", "endDate": "2017-05-31", "narrative": "I chose to major in Computer Science and Engineering, pursuing my degree from **Mallabhum Institute of Technology**. This was a decision I was committed to, even though it was unconventional within my family at the time. My college years were a period of immense learning, where I was formally introduced to the core principles that govern the digital world. The curriculum covered a wide spectrum of essential topics, including **16-bit microprocessors, Computer Architecture, the Linux kernel, and intricate Networks and protocols**. This comprehensive education provided me with a robust understanding of how software and hardware interact.\n\nOutside of academics, I also discovered a passion for volleyball, where I honed my skills in teamwork, strategy, and coordination, eventually becoming a proficient player.", "resumePoints": [], "skillsUsed": [ {"category": "TECHNOLOGIES & CONCEPTS", "skills": ["Core Computer Science fundamentals (Data Structures, Algorithms, OS)", "understanding of computer architecture and networking", "Linux kernel basics"]}, {"category": "SOFT SKILLS", "skills": ["teamwork", "collaboration"]} ], "personalInterests": ["Volleyball"] },
    { "id": "edu-dav-2011", "type": "education", "heading": "High School", "organization": { "name": "D.A.V Public School"}, "role": "Student", "startDate": "2011-04-01", "endDate": "2013-03-31", "narrative": "Continuing my education at DAV Public School, I naturally opted for Computer Science to delve deeper into my passion. This period was instrumental in broadening my technical horizons, as I learned additional programming languages, including **C++ and PHP**, becoming significantly more tech-savvy. Beyond the curriculum, I was captivated by the burgeoning smartphone ecosystem and spent countless hours on the **XDA Developers forums**. This hands-on exploration involved experimenting with custom firmware, software modifications, and troubleshooting complex technical issues, which sharpened my practical problem-solving skills. It was during this time that I solidified my ambition to pursue **Computer Science as a professional career**, with my passion for football serving as a cherished Plan B.", "resumePoints": [], "skillsUsed": [ {"category": "PROGRAMMING LANGUAGES", "skills": ["C++", "PHP"]}, {"category": "TECHNOLOGIES & CONCEPTS", "skills": ["advanced programming concepts", "mobile operating system fundamentals"]}, {"category": "SOFT SKILLS", "skills": ["practical troubleshooting", "self-directed learning"]} ], "personalInterests": ["XDA Developers forums", "Football"] },
    { "id": "edu-denobili-2000", "type": "education", "heading": "School", "organization": { "name": "De Nobili School"}, "role": "Student", "startDate": "2000-04-01", "endDate": "2011-03-31", "narrative": "My academic journey began at De Nobili School, where I spent eleven years building my foundational knowledge. It was here that my natural curiosity for technology first took root. I was deeply intrigued by the dawn of the digital age, particularly **the internet and its underlying mechanisms**. This fascination led me to enroll in Computer Science classes, which provided my first formal introduction to the world of programming through the **Java** language.", "resumePoints": [], "skillsUsed": [ {"category": "PROGRAMMING LANGUAGES", "skills": ["introductory Java"]}, {"category": "TECHNOLOGIES & CONCEPTS", "skills": ["Foundational programming logic", "analytical thinking"]} ] }
  ]
};

const terminal = document.getElementById('terminal');
const outputContainer = document.getElementById('output-container');
const commandInput = document.getElementById('command-input');

let commandHistory = [];
let historyIndex = -1;

// Prevent throttling when page is not visible
let isPageVisible = true;
document.addEventListener('visibilitychange', () => {
    isPageVisible = !document.hidden;
});

// Enhanced requestAnimationFrame that works even when page is not visible
const enhancedRAF = (callback) => {
    if (isPageVisible) {
        requestAnimationFrame(callback);
    } else {
        // Use setTimeout as fallback when page is hidden
        setTimeout(callback, 16); // ~60fps
    }
};

// Fast typewriter for help and other quick commands
const fastTypewriter = (text, element, callback, speed = 5) => {
    let i = 0;
    element.innerHTML = '';
    
    const typeChunk = () => {
        // Process multiple characters at once for speed
        const chunkSize = 3;
        let processed = 0;
        
        while (i < text.length && processed < chunkSize) {
            let char = text.charAt(i);
            
            // Handle HTML tags or entities
            if (char === '<' || char === '&') {
                const endIndex = text.indexOf(char === '<' ? '>' : ';', i);
                if (endIndex !== -1) {
                    element.innerHTML += text.substring(i, endIndex + 1);
                    i = endIndex;
                } else {
                    element.innerHTML += char;
                }
            } else {
                element.innerHTML += char;
            }
            
            i++;
            processed++;
        }
        
        terminal.scrollTop = terminal.scrollHeight;
        
        if (i < text.length) {
            setTimeout(() => {
                enhancedRAF(typeChunk);
            }, speed);
        } else {
            if (callback) callback();
        }
    };
    
    enhancedRAF(typeChunk);
};

const typewriter = (text, element, callback, speed = 20) => {
    let i = 0;
    element.innerHTML = '';
    const type = () => {
        if (i < text.length) {
            let char = text.charAt(i);
            // Check for HTML tags or entities and print them at once
            // to avoid rendering issues with the character-by-character approach.
            if (char === '<' || char === '&') {
                const endIndex = text.indexOf(char === '<' ? '>' : ';', i);
                if (endIndex !== -1) {
                    element.innerHTML += text.substring(i, endIndex + 1);
                    i = endIndex;
                } else {
                    element.innerHTML += char;
                }
            } else {
                element.innerHTML += char;
            }
            
            i++;
            terminal.scrollTop = terminal.scrollHeight;
            
            // Use requestAnimationFrame for better performance and continued execution
            if (i < text.length) {
                setTimeout(() => {
                    enhancedRAF(type);
                }, speed);
            } else {
                if (callback) callback();
            }
        }
    };
    
    // Start with requestAnimationFrame for immediate execution
    enhancedRAF(type);
};

const appendOutput = (content) => {
    const div = document.createElement('div');
    div.innerHTML = content;
    outputContainer.appendChild(div);
    terminal.scrollTop = terminal.scrollHeight;
};

const processCommand = (command) => {
    const [cmd, ...args] = command.trim().split(' ');
    const commandOutputDiv = document.createElement('div');
    commandOutputDiv.classList.add('command-output');
    outputContainer.appendChild(commandOutputDiv);

    switch (cmd.toLowerCase()) {
        case 'help':
            handleHelp(commandOutputDiv);
            break;
        case 'about':
            handleAbout(commandOutputDiv);
            break;
        case 'experience':
        case 'projects':
        case 'education':
            handleTimeline(cmd.toLowerCase(), commandOutputDiv);
            break;
        case 'skills':
            handleSkills(commandOutputDiv);
            break;
        case 'contact':
            handleContact(commandOutputDiv);
            break;
        case 'resume':
        case 'download':
            handleResume(commandOutputDiv);
            break;
        case 'cat':
            handleCat(args[0], commandOutputDiv);
            break;
        case 'theme':
            handleTheme(args[0], commandOutputDiv);
            break;
        case 'clear':
            outputContainer.innerHTML = '';
            break;
        case '':
            break;
        default:
            typewriter(`<span class="error">bash: command not found: ${command}</span>\nType 'help' for a list of commands.`, commandOutputDiv);
            break;
    }
};

const handleHelp = (element) => {
    const helpText = `Available commands:
  <span class="success">about</span>        - Professional summary and core competencies
  <span class="success">experience</span>   - Work history and career progression
  <span class="success">projects</span>     - Portfolio of personal and professional projects
  <span class="success">education</span>    - Academic background and qualifications
  <span class="success">skills</span>       - Technical expertise organized by category
  <span class="success">contact</span>      - Professional contact information and social profiles
  <span class="success">resume</span>       - Download comprehensive CV (PDF format)
  <span class="success">cat &lt;id&gt;</span>     - Detailed view of specific entry (e.g., 'cat exp-hm-2024')
  <span class="success">theme &lt;name&gt;</span> - Switch interface theme (dracula, hacker, solarized-light)
  <span class="success">clear</span>        - Clear terminal output`;
    fastTypewriter(helpText, element);
};

const handleAbout = (element) => {
    const aboutText = careerData.personalDetails.brandingStatements.map(s => `* ${s}`).join('\n');
    typewriter(aboutText, element, null, 10);
};

const handleTimeline = (type, element) => {
    let output = '';
    careerData.timeline.filter(item => item.type === type).forEach(item => {
        const endDate = item.endDate ? new Date(item.endDate).toLocaleDateString('en-US', { month: 'short', year: 'numeric' }) : 'Present';
        const startDate = new Date(item.startDate).toLocaleDateString('en-US', { month: 'short', year: 'numeric' });
        const id = `[<span class="highlight">${item.id.padEnd(20, ' ')}</span>]`;
        const dates = `${startDate} - ${endDate}`.padEnd(25, ' ');
        const heading = `${item.heading} @ ${item.organization.name}`;
        output += `${id}${dates}${heading}\n`;
    });
    output += `\nFor detailed information, use 'cat &lt;id&gt;' (example: 'cat ${careerData.timeline.find(item => item.type === type).id}')`;
    fastTypewriter(output, element);
};

const handleSkills = (element) => {
    const skillsByCategory = {};
    careerData.timeline.forEach(item => {
        if (item.skillsUsed) {
            item.skillsUsed.forEach(cat => {
                if (!skillsByCategory[cat.category]) {
                    skillsByCategory[cat.category] = new Set();
                }
                cat.skills.forEach(skill => skillsByCategory[cat.category].add(skill));
            });
        }
    });

    let output = 'Compiling technical expertise across all roles...\n\n';
    for (const category in skillsByCategory) {
        output += `â–¸ <span class="success">${category.toUpperCase()}</span>\n`;
        output += `  ${Array.from(skillsByCategory[category]).join(' â€¢ ')}\n\n`;
    }
    typewriter(output, element, null, 5);
};

const handleContact = (element) => {
    const c = careerData.personalDetails.contact;
    const contactText = `Email:    <a href="mailto:${c.email}">${c.email}</a>
Phone:    ${c.phone}
LinkedIn: <a href="${c.linkedin}" target="_blank">${c.linkedin}</a>
GitHub:   <a href="${c.github}" target="_blank">${c.github}</a>
Website:  <a href="${c.website}" target="_blank">${c.website}</a>`;
    fastTypewriter(contactText, element);
};

const handleResume = (element) => {
    const downloadLink = careerData.personalDetails.downloadLink;
    const resumeText = `Initiating resume download...
    
<span class="success">ğŸ“„ Comprehensive CV</span>
<a href="${downloadLink}" target="_blank" download>Download latest resume (PDF format)</a>

Direct link: ${downloadLink}`;
    
    fastTypewriter(resumeText, element, () => {
        // Automatically open the download link
        window.open(downloadLink, '_blank');
    });
};

const handleCat = (id, element) => {
    if (!id) {
        typewriter(`<span class="error">Error: 'cat' requires an ID.</span>\nUsage: cat &lt;id&gt; (e.g., cat exp-hm-2024)`, element);
        return;
    }
    const item = careerData.timeline.find(i => i.id === id);
    if (!item) {
        typewriter(`<span class="error">Error: ID '${id}' not found.</span>`, element);
        return;
    }
    
    let output = `> Loading profile: ${id}...\n\n`;
    output += `[ <span class="success">POSITION</span> ] ${item.heading} @ ${item.organization.name}\n`;
    const endDate = item.endDate ? new Date(item.endDate).toLocaleDateString() : 'Present';
    output += `[ <span class="success">DURATION</span> ] ${new Date(item.startDate).toLocaleDateString()} - ${endDate}\n`;
    output += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
    if(item.narrative) {
        output += `[ <span class="success">OVERVIEW</span> ]\n${item.narrative.replace(/\*\*(.*?)\*\*/g, '<span class="highlight">$1</span>').replace(/`(.*?)`/g, '<span class="success">$1</span>').replace(/\[(.*?)\]\((.*?)\)/g, '<a href="$2" target="_blank">$1</a>')}\n\n`;
    }
    if(item.resumePoints && item.resumePoints.length > 0) {
         output += `[ <span class="success">KEY ACHIEVEMENTS</span> ]\n${item.resumePoints.map(p => `â€¢ ${p}`).join('\n')}\n\n`;
    }
    if(item.skillsUsed && item.skillsUsed.length > 0) {
        output += `[ <span class="success">TECHNOLOGIES</span> ]\n`;
        item.skillsUsed.forEach(cat => {
            output += `  â–¸ <span class="highlight">${cat.category}</span>\n    ${cat.skills.join(' â€¢ ')}\n`;
        });
        output += `\n`;
    }
     if(item.certifications && item.certifications.length > 0) {
        output += `[ <span class="success">CERTIFICATIONS</span> ]\n${item.certifications.map(c => `â€¢ ${c.name} - <a href="${c.certificateURL}" target="_blank">View Certificate</a>`).join('\n')}\n\n`;
    }
    
    typewriter(output, element, null, 5);
};

const handleTheme = (themeName, element) => {
    const validThemes = ['dracula', 'hacker', 'solarized-light'];
    if (!themeName || !validThemes.includes(themeName)) {
        typewriter(`<span class="error">Invalid theme.</span>\nAvailable themes: ${validThemes.join(', ')}`, element);
        return;
    }
    document.body.dataset.theme = themeName;
    typewriter(`Theme changed to <span class="success">${themeName}</span>.`, element);
};

const init = () => {
    const bootSequence = [
        { text: 'Loading career database...', delay: 50 },
        { text: ' [OK]', speed: 10, newline: true },
        { text: 'Indexing professional experience...', delay: 50 },
        { text: ' [OK]', speed: 10, newline: true },
        { text: `Authenticating ${careerData.personalDetails.fullName}...`, delay: 50 },
        { text: ' [OK]', speed: 10, newline: true },
        { text: '\nSystem ready. Access granted.\n', delay: 50, speed: 5 },
    ];

    const banner = `
<span class="success">â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—     </span>
<span class="success">â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     </span>
<span class="success">â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     </span>
<span class="success">â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     </span>
<span class="success">â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•    â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—</span>
<span class="success">â•šâ•â•â•â•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â•     â•šâ•â•  â•šâ•â•â•šâ•â•   â•šâ•â•    â•šâ•â•â•â•â•â•     â•šâ•â•     â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•</span>

Senior Software Engineer â€¢ Python â€¢ DevOps â€¢ System Architecture
Interactive career portfolio - Type 'help' to explore my professional experience.
`;

    let currentLine = document.createElement('span');
    outputContainer.appendChild(currentLine);

    function runSequence(index) {
        if (index >= bootSequence.length) {
            appendOutput(banner);
            commandInput.focus();
            return;
        }
        const item = bootSequence[index];
        setTimeout(() => {
            typewriter(item.text, currentLine, () => {
                if (item.newline) {
                    currentLine = document.createElement('span');
                    outputContainer.appendChild(currentLine);
                }
                runSequence(index + 1);
            }, item.speed || 20);
        }, item.delay);
    }
    
    runSequence(0);
};

commandInput.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') {
        e.preventDefault();
        const command = commandInput.value;
        
        const promptLine = `<div class="input-line"><span class="prompt">guest@supriyo.dev:~$</span><span>${command}</span></div>`;
        appendOutput(promptLine);
        
        if (command.trim() !== '') {
            commandHistory.unshift(command);
        }
        historyIndex = -1;

        processCommand(command);
        commandInput.value = '';
    } else if (e.key === 'ArrowUp') {
        if (historyIndex < commandHistory.length - 1) {
            historyIndex++;
            commandInput.value = commandHistory[historyIndex];
        }
    } else if (e.key === 'ArrowDown') {
         if (historyIndex > 0) {
            historyIndex--;
            commandInput.value = commandHistory[historyIndex];
        } else {
            historyIndex = -1;
            commandInput.value = '';
        }
    }
});

terminal.addEventListener('click', (e) => {
    // Only focus input if no text is selected and not clicking on a link
    if (window.getSelection().toString().length === 0 && e.target.tagName !== 'A') {
        commandInput.focus();
    }
});

init();